(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(38)},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),i=a.n(r),l=a(6),o=a(7),s=a(10),u=a(8),m=a(11),d=a(40),p=a(41),f=a(42),h=a(9),E=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("span",{class:"badge"},this.props.addedItems.length)}}]),t}(n.Component),b=Object(h.b)(function(e){return{addedItems:e.addedItems}})(E),v=a(39),y=function(){return c.a.createElement("nav",{className:"nav-wrapper blue accent-4"},c.a.createElement("div",{className:"container"},c.a.createElement(v.a,{to:"/",className:"brand-logo"},"Shopping"),c.a.createElement("ul",{className:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement(v.a,{to:"/cart",className:"notification"},c.a.createElement("i",{className:"material-icons"},"shopping_cart"),c.a.createElement(b,null))))))},O=a(12),_=a(25),j=a(5),N={items:[],isFetching:!1,isError:!1,addedItems:[],total:0},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;if("FETCH_CART_LIST"===t.type)return Object(j.a)({},e,{isFetching:!0,items:[],isError:!1});if("FETCH_CART_LIST_SUCCESS"===t.type)return Object(j.a)({},e,{items:t.data,isFetching:!1,isError:!1});if("FETCH_CART_LIST_FAILURE"===t.type)return Object(j.a)({},e,{isError:!0,isFetching:!1});if("ADD_TO_CART"===t.type){var a=e.items.find(function(e){return e.id===t.id});if(e.addedItems.find(function(e){return t.id===e.id}))return a.quantity+=1,Object(j.a)({},e,{total:e.total+a.price});a.quantity=1;var n=e.total+a.price;return Object(j.a)({},e,{addedItems:Object(_.a)(e.addedItems).concat([a]),total:n})}if("REMOVE_ITEM"===t.type){var c=e.addedItems.find(function(e){return t.id===e.id}),r=e.addedItems.filter(function(e){return t.id!==e.id}),i=e.total-c.price*c.quantity;return console.log(c),Object(j.a)({},e,{addedItems:r,total:i})}if("ADD_QUANTITY"===t.type){var l=e.items.find(function(e){return e.id===t.id});l.quantity+=1;var o=e.total+l.price;return Object(j.a)({},e,{total:o})}if("SUB_QUANTITY"===t.type){var s=e.items.find(function(e){return e.id===t.id});if(1===s.quantity){var u=e.addedItems.filter(function(e){return e.id!==t.id}),m=e.total-s.price;return Object(j.a)({},e,{addedItems:u,total:m})}s.quantity-=1;var d=e.total-s.price;return Object(j.a)({},e,{total:d})}return"ADD_SHIPPING"===t.type?Object(j.a)({},e,{total:e.total+6}):"SUB_SHIPPING"===t.type?Object(j.a)({},e,{total:e.total-6}):e},I=a(23),C=Object(O.c)(g,Object(O.a)(I.a)),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).handleClick=function(e){a.props.addToCart(e)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.fetch_cart_list_from_api()}},{key:"render",value:function(){var e=this;console.log(this.props.items);var t=this.props.items&&this.props.items.map(function(t){return c.a.createElement("div",{className:"card",key:t.id},c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{src:t.img_url,alt:t.name}),c.a.createElement("span",{className:"card-title"},t.name),c.a.createElement("span",{to:"/",className:"btn-floating halfway-fab waves-effect waves-light red",onClick:function(){e.handleClick(t.id)}},c.a.createElement("i",{className:"material-icons"},"add"))),c.a.createElement("div",{className:"card-content"},c.a.createElement("p",null,t.category),c.a.createElement("p",null,c.a.createElement("b",null,"Price: ",t.price,"$"))))});return c.a.createElement("div",{className:"container"},c.a.createElement("h3",{className:"center"},"Our items"),c.a.createElement("div",{className:"box"},t))}}]),t}(n.Component),S=Object(h.b)(function(e){return{items:e.items}},function(e){return{addToCart:function(t){e(function(e){return{type:"ADD_TO_CART",id:e}}(t))},fetch_cart_list_from_api:function(){e((C.dispatch({type:"FETCH_CART_LIST"}),function(e,t){return fetch("https://api.myjson.com/bins/qzuzi").then(function(e){return e.json()}).then(function(t){if("Not Found"===t.message)throw new Error("No cart list found!!");e({type:"FETCH_CART_LIST_SUCCESS",data:t})}).catch(function(t){return e({type:"FETCH_CART_LIST_FAILURE"})})}))}}})(T),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).handleChecked=function(e){e.target.checked?a.props.addShipping():a.props.substractShipping()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.refs.shipping.checked&&this.props.substractShipping()}},{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"collection"},c.a.createElement("li",{className:"collection-item"},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",ref:"shipping",onChange:this.handleChecked}),c.a.createElement("span",null,"Shipping(+6$)"))),c.a.createElement("li",{className:"collection-item"},c.a.createElement("b",null,"Total: ",this.props.total," $"))),c.a.createElement("div",{className:"checkout"},c.a.createElement("button",{className:"waves-effect waves-light btn"},"Checkout")))}}]),t}(n.Component),k=Object(h.b)(function(e){return{addedItems:e.addedItems,total:e.total}},function(e){return{addShipping:function(){e({type:"ADD_SHIPPING"})},substractShipping:function(){e({type:"SUB_SHIPPING"})}}})(A),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).handleRemove=function(e){a.props.removeItem(e)},a.handleAddQuantity=function(e){a.props.addQuantity(e)},a.handleSubtractQuantity=function(e){a.props.subtractQuantity(e)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.items.length?this.props.items.map(function(t){return c.a.createElement("li",{className:"collection-item avatar",key:t.id},c.a.createElement("div",{className:"item-img"},c.a.createElement("img",{src:t.img_url,alt:t.img_url,className:""})),c.a.createElement("div",{className:"item-desc"},c.a.createElement("span",{className:"title"},t.name),c.a.createElement("p",null,t.category),c.a.createElement("p",null,c.a.createElement("b",null,"Price: ",t.price,"$")),c.a.createElement("p",null,c.a.createElement("b",null,"Quantity: ",t.quantity)),c.a.createElement("div",{className:"add-remove"},c.a.createElement(v.a,{to:"/cart"},c.a.createElement("i",{className:"material-icons",onClick:function(){e.handleAddQuantity(t.id)}},"arrow_drop_up")),c.a.createElement(v.a,{to:"/cart"},c.a.createElement("i",{className:"material-icons",onClick:function(){e.handleSubtractQuantity(t.id)}},"arrow_drop_down"))),c.a.createElement("button",{className:"waves-effect waves-light btn pink remove",onClick:function(){e.handleRemove(t.id)}},"Remove")))}):c.a.createElement("p",null,"Nothing.");return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"cart"},c.a.createElement("h5",null,"You have ordered:"),c.a.createElement("ul",{className:"collection"},t)),c.a.createElement(k,null))}}]),t}(n.Component),R=Object(h.b)(function(e){return{items:e.addedItems}},function(e){return{removeItem:function(t){e(function(e){return{type:"REMOVE_ITEM",id:e}}(t))},addQuantity:function(t){e(function(e){return{type:"ADD_QUANTITY",id:e}}(t))},subtractQuantity:function(t){e(function(e){return{type:"SUB_QUANTITY",id:e}}(t))}}})(w),D=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(d.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(y,null),c.a.createElement(p.a,null,c.a.createElement(f.a,{exact:!0,path:"/",component:S}),c.a.createElement(f.a,{path:"/cart",component:R}))))}}]),t}(n.Component);a(36);i.a.render(c.a.createElement(h.a,{store:C},c.a.createElement(D,null)),document.getElementById("root"))}},[[26,2,1]]]);
//# sourceMappingURL=main.8d104f60.chunk.js.map