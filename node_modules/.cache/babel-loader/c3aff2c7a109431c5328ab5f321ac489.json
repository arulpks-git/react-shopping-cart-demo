{"ast":null,"code":"import _defineProperty from \"/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/src/components/Home.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addToCart as _addToCart, fetch_cart_list_from_api as _fetch_cart_list_from_api } from './actions/cartActions';\nimport SliderComponent from './SliderComponent';\nimport FilterModal from './FilterModal';\nimport SortModal from './SortModal';\nimport HeaderSortComponent from './HeaderSortComponent';\nimport { BrowserView, MobileView, isBrowser, isMobile } from \"react-device-detect\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.handleClick = function (id) {\n      _this.props.addToCart(id);\n    };\n\n    _this.priceFilter = function (value) {\n      console.log(\"Price Filter\", value);\n      var minRange, maxRange;\n      maxRange = value[1] * 100;\n      if (value[0] == 0) minRange = 100;else if (value[0] != 0) {\n        minRange = value[0] * 100;\n      }\n\n      _this.setState({\n        priceRange: [minRange, maxRange]\n      });\n    };\n\n    _this.sortFilter = function (value) {\n      console.log(\"Sort Filter\", value);\n      var sortField, sortOrder;\n\n      if (value != \"\") {\n        value = JSON.parse(value);\n        sortField = value.field;\n        sortOrder = value.sort;\n      }\n\n      _this.setState(_objectSpread({}, _this.state, {\n        sortField: sortField,\n        sortOrder: sortOrder\n      }));\n    };\n\n    _this.compareValues = function (key) {\n      var order = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'asc';\n      return function innerSort(a, b) {\n        if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\n          // property doesn't exist on either object\n          return 0;\n        }\n\n        var varA = typeof a[key] === 'string' ? a[key].toUpperCase() : a[key];\n        var varB = typeof b[key] === 'string' ? b[key].toUpperCase() : b[key];\n        var comparison = 0;\n\n        if (varA > varB) {\n          comparison = 1;\n        } else if (varA < varB) {\n          comparison = -1;\n        }\n\n        return order === 'desc' ? comparison * -1 : comparison;\n      };\n    };\n\n    _this.state = _defineProperty({\n      priceRange: [100, 10000],\n      sortField: ''\n    }, \"sortField\", '');\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetch_cart_list_from_api();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"props items=>\", this.props.items);\n      var productItem = Object.assign([], this.props.items);\n      console.log(\"productItems=>\", productItem);\n      if (this.state.sortField != '' && productItem.length > 0) productItem.sort(this.compareValues(this.state.sortField, this.state.sortOrder));\n      console.log(\"sortfield\", this.state.sortField);\n      console.log(\"sortOrder\", this.state.sortOrder);\n      console.log(\"productItems1234=>\", productItem);\n      var itemList = productItem.length > 0 && productItem.map(function (item) {\n        console.log(\"items-=>\", item);\n\n        if (item.price >= _this2.state.priceRange[0] && item.price <= _this2.state.priceRange[1] && (item.name.includes(_this2.props.searchItemText) || item.category.includes(_this2.props.searchItemText))) {\n          return React.createElement(\"div\", {\n            className: \"card\",\n            key: item.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card-image\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: item.img_url,\n            alt: item.name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: \"card-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, item.name)), React.createElement(\"div\", {\n            className: \"card-content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, item.category), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, \"Price: \", item.price, \"$\")), React.createElement(\"button\", {\n            class: \"btn-small orange accent-4 btncurve\",\n            type: \"submit\",\n            name: \"action\",\n            onClick: function onClick() {\n              _this2.handleClick(item.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, \"Add to Cart\")));\n        }\n      });\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(BrowserView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"leftSidebar hide-on-small-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(SliderComponent, {\n        onApply: this.priceFilter,\n        className: \" hide-on-small-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"mainBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(HeaderSortComponent, {\n        onSortApply: this.sortFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, itemList))), isMobile && React.createElement(\"div\", {\n        className: \"mainBarMobile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"left center sbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(FilterModal, {\n        onApply: this.priceFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"right center sbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(SortModal, {\n        onSortApply: this.sortFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, itemList)));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    items: state.items,\n    searchItemText: state.searchItemText\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addToCart: function addToCart(id) {\n      dispatch(_addToCart(id));\n    },\n    fetch_cart_list_from_api: function fetch_cart_list_from_api() {\n      dispatch(_fetch_cart_list_from_api());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/arulprakash/Documents/Carreer/Projects/React/React-Shopping-Cart-master/react-shopping-cart-demo/src/components/Home.js"],"names":["React","Component","connect","addToCart","fetch_cart_list_from_api","SliderComponent","FilterModal","SortModal","HeaderSortComponent","BrowserView","MobileView","isBrowser","isMobile","Home","props","handleClick","id","priceFilter","value","console","log","minRange","maxRange","setState","priceRange","sortFilter","sortField","sortOrder","JSON","parse","field","sort","state","compareValues","key","order","innerSort","a","b","hasOwnProperty","varA","toUpperCase","varB","comparison","items","productItem","Object","assign","length","itemList","map","item","price","name","includes","searchItemText","category","img_url","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addToCart,fetch_cart_list_from_api } from './actions/cartActions';\r\nimport SliderComponent from './SliderComponent'\r\nimport FilterModal from './FilterModal'\r\nimport SortModal from './SortModal'\r\nimport HeaderSortComponent from './HeaderSortComponent'\r\nimport {\r\n    BrowserView,\r\n    MobileView,\r\n    isBrowser,\r\n    isMobile\r\n  } from \"react-device-detect\";\r\n\r\n\r\n\r\n class Home extends Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state= { priceRange : [100,10000], sortField: '', sortField: ''}\r\n    }\r\n    \r\n    handleClick = (id)=>{\r\n        this.props.addToCart(id); \r\n    }\r\n    componentDidMount() {\r\n        this.props.fetch_cart_list_from_api();\r\n    }\r\n    priceFilter = (value) => {\r\n        console.log(\"Price Filter\",value);\r\n        let minRange,maxRange;\r\n        maxRange = value[1]*100;\r\n        if(value[0] == 0)\r\n        minRange =100;\r\n        else if(value[0]!=0)\r\n        {\r\n            minRange = value[0]*100;\r\n        }\r\n       this.setState({priceRange: [minRange,maxRange]});\r\n    }\r\n\r\n    sortFilter = (value) => {\r\n        console.log(\"Sort Filter\",value);\r\n        let sortField,sortOrder;\r\n    \r\n        if(value != \"\")\r\n        {\r\n            value = JSON.parse(value);\r\n            sortField = value.field;\r\n            sortOrder = value.sort;\r\n        }\r\n       this.setState({ ...this.state,sortField,sortOrder});\r\n    }\r\n\r\n     compareValues =(key, order = 'asc') => {\r\n        return function innerSort(a, b) {\r\n          if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\r\n            // property doesn't exist on either object\r\n            return 0;\r\n          }\r\n      \r\n          const varA = (typeof a[key] === 'string')\r\n            ? a[key].toUpperCase() : a[key];\r\n          const varB = (typeof b[key] === 'string')\r\n            ? b[key].toUpperCase() : b[key];\r\n      \r\n          let comparison = 0;\r\n          if (varA > varB) {\r\n            comparison = 1;\r\n          } else if (varA < varB) {\r\n            comparison = -1;\r\n          }\r\n          return (\r\n            (order === 'desc') ? (comparison * -1) : comparison\r\n          );\r\n        };\r\n      }\r\n\r\n    render(){\r\n        \r\n        console.log(\"props items=>\",this.props.items);\r\n        let productItem = Object.assign([],this.props.items);\r\n        console.log(\"productItems=>\",productItem);\r\n        if(this.state.sortField != '' && productItem.length > 0)\r\n        productItem.sort(this.compareValues(this.state.sortField,this.state.sortOrder));\r\n        console.log(\"sortfield\",this.state.sortField);\r\n        console.log(\"sortOrder\",this.state.sortOrder);\r\n        console.log(\"productItems1234=>\",productItem);\r\n        let itemList = (productItem.length > 0) && productItem.map(item=>{\r\n            console.log(\"items-=>\",item);\r\n            if( (item.price >= this.state.priceRange[0] && item.price <= this.state.priceRange[1] ) \r\n                &&  (item.name.includes(this.props.searchItemText) || item.category.includes(this.props.searchItemText))\r\n                ) {\r\n            return(\r\n           \r\n         \r\n                <div className=\"card\" key={item.id}>\r\n                        <div className=\"card-image\">\r\n                            <img src={item.img_url} alt={item.name}/>\r\n                            <span className=\"card-title\">{item.name}</span>\r\n                            \r\n                        </div>\r\n\r\n                        <div className=\"card-content\">\r\n                            <p>{item.category}</p>\r\n                            <p><b>Price: {item.price}$</b></p>\r\n                            <button class=\"btn-small orange accent-4 btncurve\" type=\"submit\" name=\"action\" onClick={ () => {this.handleClick(item.id)}}>\r\n                         Add to Cart \r\n                        </button>\r\n                        </div>\r\n                 </div>\r\n                 \r\n\r\n            )\r\n            }\r\n        })\r\n\r\n        return(\r\n            <React.Fragment>\r\n\r\n                <BrowserView>\r\n            <div className={\"leftSidebar hide-on-small-only\"}>\r\n                <SliderComponent onApply={this.priceFilter} className={\" hide-on-small-only\"}/>\r\n            </div>\r\n            <div className=\"mainBar\">\r\n            <HeaderSortComponent onSortApply={this.sortFilter} />\r\n                <div className=\"row box\">\r\n                    {itemList}\r\n                </div>\r\n            </div>\r\n            </BrowserView>\r\n\r\n            \r\n            { isMobile && <div className=\"mainBarMobile\">\r\n                <div className=\"row\">\r\n                    <div className=\"left center sbox\">\r\n                    <FilterModal onApply={this.priceFilter}/>\r\n                    </div>\r\n                    <div className=\"right center sbox\">\r\n                    <SortModal onSortApply={this.sortFilter}/>\r\n                    \r\n                    </div>\r\n                </div>\r\n                <div className=\"row box\">\r\n                    {itemList}\r\n                </div>\r\n            </div>\r\n            }\r\n\r\n            \r\n                 </React.Fragment>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n      items: state.items,\r\n      searchItemText: state.searchItemText\r\n\r\n    }\r\n  }\r\nconst mapDispatchToProps= (dispatch)=>{\r\n    \r\n    return{\r\n        addToCart: (id)=>{dispatch(addToCart(id))},\r\n        fetch_cart_list_from_api: ()=>{dispatch(fetch_cart_list_from_api())},\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)"]},"metadata":{},"sourceType":"module"}